<!doctype html>
<html lang="de">


  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suche</title>
  </head>



  <body>
  <header>
    <h1>Suche</h1>
  </header>
  <body onload="startGame()">
  <script>
    var selected_search;
    var selected_person;
    var selected_type;
    var row = 2;
    var column = 13;
    var ship_numbers = row * column;
    var battle_ship_path = "battleship.png"
    var battle_ship_width = 75;
    var own_ship_numbers = [];
    var enemy_ship_numbers = [];

    function startGame(){
        updateField();
    }

    function updateField(){
        getFormValues();
        own_ship_numbers = creatShipNumbers(selected_type, selected_person);
        var other_person;        
        if(selected_person == "person_1"){
            other_person = "person_2";
        } else {
            other_person = "person_1";
        }
        enemy_ship_numbers = creatShipNumbers(selected_type, other_person);
        print(enemy_ship_numbers[0]);
        tableCreate();
    }

    function getFormValues(){
        var e
        e = document.getElementById("search");
        selected_search = e.options[e.selectedIndex].value;
        e = document.getElementById("person");
        selected_person = e.options[e.selectedIndex].value;
        e = document.getElementById("type");
        selected_type = e.options[e.selectedIndex].value;
    }

    function creatShipNumbers(type, person){
        var type_value;
        if(type == "type_a"){
            type_value = 1;
        } else if(type == "type_a"){
            type_value = 2;
        } else if(type == "type_b"){
            type_value = 3;
        } else if(type == "type_c"){
            type_value = 4;
        } else if(type == "type_d"){
            type_value = 5;
        } else if(type == "type_e"){
            type_value = 6;
        } else if(type == "type_f"){
            type_value = 7;
        } else if(type == "type_g"){
            type_value = 8;
        }

        var person_value;
        if(person == "person_1"){
            person_value = 1;
        } else if(person == "person_2"){
            person_value = 2;
        }

        var number_list = [];

        for(i = 0; i < ship_numbers; i++){
            number_list[i] = Math.floor(Math.pow(Math.PI * 10000 * (7 * (person_value - 1)) * type_value + 7223 * type_value * (i + 1), person_value * (i + 1))) % 10000;
        }

        return number_list;
    }

    function tableCreate() {
        var old_table = document.getElementById("ship_table");

        // removing old table
        if(old_table !== null){
            old_table.parentNode.removeChild(old_table);
        }

        var body = document.getElementsByTagName('body')[0];
        var tbl = document.createElement('table');
        tbl.id = "ship_table";
        tbl.style.width = '100%';
        tbl.setAttribute('border', '1');
        var tbdy = document.createElement('tbody');
        var count = 0;
        for (var i = 0; i < row; i++) {
            var tr = document.createElement('tr');
            for (var j = 0; j < column; j++) {
                var td = document.createElement('td');
                td.appendChild(document.createTextNode('\u0020'));
                var image = document.createElement("IMG");
                image.src = battle_ship_path;
                image.width = battle_ship_width;
                td.appendChild(image);
                var letter = document.createElement("H3");
                var letter_value = String.fromCharCode('A'.charCodeAt() + count);
                letter.appendChild(document.createTextNode(letter_value));
                td.appendChild(letter);
                tr.appendChild(td);
                count = count + 1;
            }
            tbdy.appendChild(tr);
        }
        tbl.appendChild(tbdy);
        body.appendChild(tbl);
    }

    function print(message){
        document.getElementById("debug_output").innerHTML = message;
    }
  </script>

    <form class="selects" id="select"> 
      <select id="search" onchange="updateField();">
        <option value="linear">Linear</option>
        <option value="binary">Bin√§r</option>
        <option value="hash">Hash</option>
      </select>
      <select id="person" onchange="updateField();">
        <option value="person_1">Person 1</option>
        <option value="person_2">Person 2</option>
      </select>
      <select id="type" onchange="updateField();">
        <option value="type_a">Typ A</option>
        <option value="type_b">Typ B</option>
        <option value="type_c">Typ C</option>
        <option value="type_d">Typ D</option>
        <option value="type_e">Typ E</option>
        <option value="type_f">Typ F</option>
        <option value="type_g">Typ G</option>
      </select>
    </form>

    <p id="debug_output"></p>
  <body>
</html>
